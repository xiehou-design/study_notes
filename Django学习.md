# ORM简介

简单来说就是将类和对象转化为sql语句。



## 什么叫ORM？

**ORM，全称Object-Relational Mapping（对象关系映射），它的作用是在关系数据库和业务实体对象之间做一个映射，使得我们在具体的操作业务对象的时候，就不需要再去和复杂的SQL语句打交道，只需要简单的操作对象的属性和方法。**



## 为什么会出现ORM？

1、**项目中数据流存储形式。**对MVC的分层模式来说。Model是数据承载实体。在用户界面层和业务逻辑层之间数据实现面向对象OO形式传递。当我们需要通过Control层分发请求把数据持久化时，我们发现，内存中的**面向对象的OO如何持久化成关系型数据库中的一条实际数据**呢？

2、面向对象是从**<u>软件工程</u>**基本原则（耦合、聚合、封装）的基础上发展起来的，而关系型数据库则是从<u>**数学理论**</u>发展起来的。两者是不匹配的。而ORM作为**项目中间件形式**实现数据在不同场景下数据关系映射。ORM是一种为了**解决面向对象和关系数库存在互不匹配的现象的技术。**



## ORM的优缺点

### 优点

1、**隐藏了数据访问的细节，“封闭的”通用数据交互，ORM的核心。**使得与数据库的交互变得更加简单，完全不用考虑SQl语句。快速开发。

2、  **第二：ORM使我们构造固化数据结构变得简单易行。**在ORM年表的史前时代，我们需要将我们的对象模型转化为一条一条的SQL语句，通过直连或是DB helper在关系数据库构造我们的数据库体系。而现在，基本上所有的ORM框架都提供了通过对象模型构造关系数据库结构的功能。这，相当不错。



### 缺点

第一：**无可避免的，自动化意味着映射和关联管理，代价是牺牲性能**（早期，这是所有不喜欢ORM人的共同点）。现在的各种ORM框架都在尝试使用各种方法来减轻这块（LazyLoad，Cache），效果还是很显著的。

第二：面向对象的查询语言(X-QL)作为一种数据库与对象之间的过渡,虽然隐藏了数据层面的业务抽象,但**并不能完全的屏蔽掉数据库层的设计,并且无疑将增加学习成本.**

第三：**对于复杂查询，ORM仍然力不从心。**虽然可以实现，但是不值的。视图可以解决大部分calculated column，case ，group，having,order by, exists，但是查询条件(a and b and not c and (d or d))。



